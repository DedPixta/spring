<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>People</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>
<body>

<div class="container mt-3">

    <form id="page_form"
          method="GET"
          action="/books">
        <label for="size" class="mb-3">Choose books per page</label>
        <select id="size" name="size" form="page_form">
            <option value="3">3</option>
            <option value="5">5</option>
            <option value="10">10</option>
        </select>

        <input type="checkbox" id="sort_by_year" name="sort_by_year" value="true">
        <label for="sort_by_year">Sorted by year</label>

        <br>
        <input type="submit" value="Show" class="btn btn-secondary mb-3">
    </form>

    <div th:each="book : ${books}">
        <a class="text-decoration-none"
           th:href="@{/books/{id}(id=${book.getId()})}"
           th:text="${book.getTitle() + ', ' + book.getAuthor() + ', ' + book.getYear()}">book</a>
    </div>
    <hr>

    <nav aria-label="pagination">
        <ul class="pagination">
            <li class="page-item"
                th:each="i: ${#numbers.sequence(1, pages)}">
                <a class="page-link"
                   th:href="@{/books(page=${i - 1}, size=${size}, sort_by_year=${sort_by_year})}"
                   th:text="${i}">
                    page
                </a>
            </li>
        </ul>
    </nav>


    <a href="/books/new" class="btn btn-primary mb-3">Create new book</a>
    <br>
    <a href="/people" class="btn btn-secondary mb-3">People list</a>
    <a href="/books/search" class="btn btn-secondary mb-3">Search</a>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
</body>
</html>